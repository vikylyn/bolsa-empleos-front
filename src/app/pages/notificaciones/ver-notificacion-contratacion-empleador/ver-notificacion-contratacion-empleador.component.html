<div class="container" *ngIf="!myModal">
    <div class="row  justify-content-center">
        <div class="col-lg-8  col-md-10 col-sm-12">
            <div class="row animated fadeIn fast" *ngIf="cargando">
                <div class="col-12">
                    <div class="alert alert-info text-center">
                        <h4>Cargando...</h4> 
                        <i class="fa fa-spin fa-refresh fa-2x"></i>
                        <p class="mb-0">Por favor espere</p>
                    </div>
                </div>
            </div>
            <div class="alert alert-danger text-center" role="alert" *ngIf="notificacionEliminada">
                La notificacion a sido eliminada 
            </div>
           <div class="card bg-dark animated fadeIn fast" *ngIf="notificacion">
               <div class="card-body " >
                <div class="row">
                    <div class="col">
                        <div class="alert alert-info text-center" role="alert" *ngIf="cargarMensaje">
                            La contratacion ha sido terminada
                        </div>
                        <div class="alert alert-info text-center" role="alert" *ngIf="contratacion && contratacion.habilitado">
                            Tiene un postulante confirmado !
                        </div>
                    </div>
                </div>
                <div class="row animated fadeIn fast">
                    <div class="col-lg-7 col-md-7 col-sm-12">
                        <div class="row">
                            <div class="col">
                                <div class="card mb-3">
                                    <div class="card-body">
                                        <h3 class="card-title text-center"><strong>Vacante: {{notificacion.vacante.titulo}}</strong> </h3>
                                        <span class="font-weight-bold">Fecha de publicacion: </span> <span>{{notificacion.vacante.creado_en | date: 'longDate'}}</span> <br>  
                                        <span class="font-weight-bold">Vacantes Disponibles: </span> <span>{{notificacion.vacante.num_disponibles}}</span> <br>  
                                        <span class="font-weight-bold">Horario: </span> <span>{{notificacion.vacante.horario.nombre}}</span> <br>
                                        <span class="font-weight-bold">Tipo de Contrato: </span> <span>{{notificacion.vacante.tipo_contrato.tipo}}</span> <br> 
                                        <span class="font-weight-bold">Direccion: </span> <span>{{notificacion.vacante.direccion}}</span> <br>                          
                                        <span class="font-weight-bold">Pais: </span> <span>{{notificacion.vacante.ciudad.estado.pais.nombre}}</span> <br>
                                        <span class="font-weight-bold">Ciudad: </span> <span>{{notificacion.vacante.ciudad.nombre}} / {{notificacion.vacante.ciudad.estado.nombre}}</span> <br>
                                        <span class="font-weight-bold">Descripcion: </span> <span>{{notificacion.vacante.descripcion}}</span> <br>                               

                                        <hr>
                                        <h4 class="card-title text-center"><strong>Requisitos para el cargo</strong> </h4>
                            
                                        <span class="font-weight-bold">Ocupacion: </span> <span>{{notificacion.vacante.requisitos.ocupacion.nombre}}</span> <br>
                                        <span class="font-weight-bold">AÃ±os de Experiencia: </span> <span>{{notificacion.vacante.requisitos.experiencia}}</span> <br>
                                        <span class="font-weight-bold">Genero: </span> <span>{{notificacion.vacante.requisitos.genero}}</span> <br>
                                        <span class="font-weight-bold">Idiomas: </span> 
                                         <ul>
                                             <li *ngFor="let idioma  of notificacion.vacante.requisitos.idiomas"><span>{{idioma.idioma.nombre}}</span>
                                                <ul>
                                                    <li>Nivel oral: {{idioma.nivel_oral.nombre}}</li>
                                                    <li>Nivel lectura: {{idioma.nivel_lectura.nombre}}</li>
                                                    <li>Nivel escrito: {{idioma.nivel_escrito.nombre}}</li>
                                                </ul>
                                            </li>
                                             
                                         </ul>

                                        <hr>
                               
                                        <h4 *ngIf="contratacion" class="card-title text-center"><strong>Detalle de la Contratacion</strong> </h4>
                                        <span *ngIf="contratacion" class="font-weight-bold">Fecha de contratacion: </span> <span  *ngIf="contratacion">{{contratacion.creado_en | date: 'longDate'}}</span> <br>
                                        <span *ngIf="contratacion" class="font-weight-bold">Estado del contrato: </span> 
                                            <span *ngIf="contratacion && contratacion.habilitado">Activo</span> 
                                            <span *ngIf="contratacion && !contratacion.habilitado">Inactivo</span>
                                    </div>
                                  </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-5 col-md-5 col-sm-12">
                    
                        <div class="card text-white bg-dark mb-3">
                            <img class="img-responsive" [src]="notificacion.solicitante.imagen.url" alt="">
                            <div class="card-body">  
                                <span class="font-weight-bold">Empleado: </span> <span>{{notificacion.solicitante.nombre}} {{notificacion.solicitante.apellidos}}</span> <br>
                                <span class="font-weight-bold">Telefono: </span> <span>{{notificacion.solicitante.telefono}}</span> <br>
                                <span class="font-weight-bold">Cedula: </span> <span>{{notificacion.solicitante.cedula}}</span> <br>
                                <span class="font-weight-bold">Correo electronico: </span> <span>{{notificacion.solicitante.credenciales.email}}</span> <br>
                                <span class="font-weight-bold">Nacionalidad: </span> <span>{{notificacion.solicitante.nacionalidad}}</span> <br>
                                <span class="font-weight-bold">Pais de residencia: </span> <span>{{notificacion.solicitante.ciudad.estado.pais.nombre}}</span> <br>
                                <span class="font-weight-bold">Ciudad de residencia: </span> <span>{{notificacion.solicitante.ciudad.nombre}} - {{notificacion.solicitante.ciudad.estado.nombre}}</span> <br>
                                <span class="font-weight-bold">Direccion: </span> <span>{{notificacion.solicitante.direccion}}</span> <br>
                                <span class="font-weight-bold">Genero: </span> <span>{{notificacion.solicitante.genero}}</span> <br>
                                <span class="font-weight-bold">Ocupaciones : </span> 
                                <ul>
                                    <li *ngFor="let ocupacion of notificacion.solicitante.ocupaciones" >{{ocupacion.ocupacion.nombre}}</li>
                                </ul>
                                <button (click)="mostrarModal()" class="btn btn-success btn-block mt-2">Curriculum</button>                                                      
                                <button routerLink="/contrataciones-empleador"  class="btn btn-info btn-block mt-2">Contrataciones</button>
                            </div>
                        </div> 
                    </div>
                </div>
       
               </div>
           </div>

        </div>
    </div>
  
</div>


<app-vista-completo *ngIf="myModal" [visible]="myModal" 
                                                [idSolicitante]= "notificacion.solicitante.id" 
                                                [tipoOperacion]="'contratacion'" 
                                                [idOperacion] = "contratacion.id"
                                                (cerrar)="cerrarModal($event)"
                                                (cancelar)="cancelarModal($event)"
                                                >
</app-vista-completo>

